{"openapi":"3.1.0","info":{"title":"ZODIRA Backend","description":"Cosmic Predictions API with Vedic Astrology","version":"1.0.0"},"paths":{"/api/v1/health":{"get":{"tags":["health","health"],"summary":"Health Check","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/initiate":{"post":{"tags":["Authentication","Authentication"],"summary":"Initiate Authentication","operationId":"initiate_authentication_api_v1_auth_initiate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__unified_auth__AuthInitiateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__unified_auth__AuthInitiateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/verify-otp":{"post":{"tags":["Authentication","Authentication"],"summary":"Verify Otp","operationId":"verify_otp_api_v1_auth_verify_otp_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__unified_auth__OTPVerifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__unified_auth__AuthVerifyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/google-oauth":{"post":{"tags":["Authentication","Authentication"],"summary":"Google Oauth Login","operationId":"google_oauth_login_api_v1_auth_google_oauth_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__unified_auth__GoogleOAuthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__unified_auth__GoogleOAuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/google/login":{"get":{"tags":["Authentication","Authentication"],"summary":"Google Login","operationId":"google_login_api_v1_auth_google_login_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/google/callback":{"get":{"tags":["Authentication","Authentication"],"summary":"Google Callback","operationId":"google_callback_api_v1_auth_google_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":true,"schema":{"type":"string","title":"State"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["Authentication","Authentication"],"summary":"Logout","operationId":"logout_api_v1_auth_logout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__unified_auth__LogoutRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__unified_auth__LogoutResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/health":{"get":{"tags":["Authentication","Authentication"],"summary":"Auth Health Check","operationId":"auth_health_check_api_v1_auth_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/users/initiate":{"post":{"tags":["User Management"],"summary":"Initiate Authentication","description":"Deprecated: moved to /api/v1/auth/initiate","operationId":"initiate_authentication_api_v1_users_initiate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__user_management__AuthInitiateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__user_management__AuthInitiateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/verify-otp":{"post":{"tags":["User Management"],"summary":"Verify Otp","description":"Deprecated: moved to /api/v1/auth/verify-otp","operationId":"verify_otp_api_v1_users_verify_otp_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__user_management__OTPVerifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__user_management__AuthVerifyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/google-oauth":{"post":{"tags":["User Management"],"summary":"Google Oauth Login","description":"Deprecated: moved to /api/v1/auth/google-oauth","operationId":"google_oauth_login_api_v1_users_google_oauth_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__user_management__GoogleOAuthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__user_management__GoogleOAuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/google/login":{"get":{"tags":["User Management"],"summary":"Google Login","description":"Deprecated: moved to /api/v1/auth/google/login","operationId":"google_login_api_v1_users_google_login_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/users/google/callback":{"get":{"tags":["User Management"],"summary":"Google Callback","description":"Deprecated: moved to /api/v1/auth/google/callback","operationId":"google_callback_api_v1_users_google_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":true,"schema":{"type":"string","title":"State"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/logout":{"post":{"tags":["User Management"],"summary":"Logout","description":"Logout user and invalidate session\n\nThis endpoint:\n1. Invalidates the current session\n2. Revokes Firebase refresh tokens\n3. Clears authentication state","operationId":"logout_api_v1_users_logout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__user_management__LogoutRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__v1__user_management__LogoutResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/user-details":{"get":{"tags":["User Management"],"summary":"Get User Details","description":"Get comprehensive user details including all profile information and astrology data\n\nThis endpoint provides:\n1. Complete user account information\n2. All user profiles with birth details and astrology calculations\n3. Recent predictions and insights\n4. Summary of user's astrology journey","operationId":"get_user_details_api_v1_users_user_details_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDetailsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/session-status":{"get":{"tags":["User Management"],"summary":"Get Session Status","description":"Get current session status and user information\n\nThis endpoint provides information about the current authentication session","operationId":"get_session_status_api_v1_users_session_status_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/resend-otp":{"post":{"tags":["User Management"],"summary":"Resend Otp","description":"Resend OTP for the current session\n\nThis endpoint allows users to request a new OTP if the previous one expired\nor was not received","operationId":"resend_otp_api_v1_users_resend_otp_post","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/health":{"get":{"tags":["User Management"],"summary":"Auth Health Check","description":"Health check endpoint for authentication service","operationId":"auth_health_check_api_v1_users_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/users/profiles":{"get":{"tags":["User Management"],"summary":"Get Profiles","operationId":"get_profiles_api_v1_users_profiles_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProfileResponse"},"type":"array","title":"Response Get Profiles Api V1 Users Profiles Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["User Management"],"summary":"Create Profile","description":"Create a new simplified profile for the current user.","operationId":"create_profile_api_v1_users_profiles_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/dashboard":{"get":{"tags":["User Management"],"summary":"Get User Dashboard","description":"Get comprehensive user dashboard with all profile data and astrology calculations\n\nThis endpoint provides:\n1. Complete user account information\n2. All user profiles with birth details\n3. Real astrology calculations for each profile\n4. Chart data and predictions\n5. Marriage compatibility data (if available)","operationId":"get_user_dashboard_api_v1_users_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get User Dashboard Api V1 Users Dashboard Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/profiles/new":{"post":{"tags":["User Management"],"summary":"Create Profile","description":"Create a new simplified profile for the current user.","operationId":"create_profile_api_v1_users_profiles_new_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/profiles/{profile_id}":{"get":{"tags":["User Management"],"summary":"Get Profile Or Status","description":"Get profile by ID, or user profile status if profile_id is user_id","operationId":"get_profile_or_status_api_v1_users_profiles__profile_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["User Management"],"summary":"Update Profile","operationId":"update_profile_api_v1_users_profiles__profile_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonProfile"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["User Management"],"summary":"Delete Profile","operationId":"delete_profile_api_v1_users_profiles__profile_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/astrology/generate-chart":{"post":{"tags":["Astrology"],"summary":"Generate Astrology Chart","description":"Generate astrology chart for a user profile\n\nThis endpoint:\n1. Validates the profile belongs to the user\n2. Retrieves birth details from the profile\n3. Generates complete astrology chart in background\n4. Returns chart generation status","operationId":"generate_astrology_chart_api_v1_astrology_generate_chart_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateChartRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateChartResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/astrology/chart/{profile_id}":{"get":{"tags":["Astrology"],"summary":"Get Astrology Chart","description":"Retrieve astrology chart for a user profile\n\nThis endpoint:\n1. Validates profile ownership\n2. Retrieves chart data from database\n3. Returns structured chart information","operationId":"get_astrology_chart_api_v1_astrology_chart__profile_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChartDataResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Astrology"],"summary":"Delete Astrology Chart","description":"Delete astrology chart for a user profile\n\nThis endpoint removes the chart data from the database","operationId":"delete_astrology_chart_api_v1_astrology_chart__profile_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/astrology/chart/{profile_id}/status":{"get":{"tags":["Astrology"],"summary":"Get Chart Generation Status","description":"Check astrology chart generation status\n\nThis endpoint checks if a chart exists and provides status information","operationId":"get_chart_generation_status_api_v1_astrology_chart__profile_id__status_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/astrology/profiles/{profile_id}/charts/{chart_type}/generate":{"post":{"tags":["Astrology"],"summary":"Generate Chart Part Endpoint","description":"Generate a single chart part (rasi, navamsa, d10, chandra, shadbala) for the given profile.\n- Validates ownership\n- Auto-resolves latitude/longitude from birth_place if missing\n- Persists the generated part into astrology_chart_parts","operationId":"generate_chart_part_endpoint_api_v1_astrology_profiles__profile_id__charts__chart_type__generate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}},{"name":"chart_type","in":"path","required":true,"schema":{"enum":["rasi","navamsa","d10","chandra","shadbala"],"type":"string","title":"Chart Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/astrology/profiles/{profile_id}/charts/generate-all":{"post":{"tags":["Astrology"],"summary":"Generate All Chart Parts Endpoint","description":"Generate all chart parts and combined chart for a profile.\nThis explicitly triggers background generation and ensures lat/lng are auto-derived\nfrom birth_place when missing.","operationId":"generate_all_chart_parts_endpoint_api_v1_astrology_profiles__profile_id__charts_generate_all_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/astrology/profiles/{profile_id}/dashboard-extras/generate":{"post":{"tags":["Astrology"],"summary":"Generate Dashboard Extras","description":"Fetch and persist dashboard extras for a profile:\n- planets_extended: planet name, position, sign, sign lord, house,\n  nakshatra number/name/pada, nakshatra vimsottari lord, retrograde\n- vimsottari: maha-dasas and antar-dasas\n\nStored under collection 'astrology_dashboard_extras' with doc id '{user_id}_{profile_id}'.","operationId":"generate_dashboard_extras_api_v1_astrology_profiles__profile_id__dashboard_extras_generate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/astrology/profiles/{profile_id}/dashboard-extras":{"get":{"tags":["Astrology"],"summary":"Get Dashboard Extras","description":"Retrieve persisted dashboard extras for a profile.\nReturns 404 if not generated yet.","operationId":"get_dashboard_extras_api_v1_astrology_profiles__profile_id__dashboard_extras_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/astrology/profiles/{profile_id}/charts/combined":{"get":{"tags":["Astrology"],"summary":"Get Combined Chart Endpoint","description":"Alias for combined chart retrieval (same as GET /chart/{profile_id}).\nReturns the structured AstrologyChartResponse.","operationId":"get_combined_chart_endpoint_api_v1_astrology_profiles__profile_id__charts_combined_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/astrology/profiles/{profile_id}/charts/{chart_type}":{"get":{"tags":["Astrology"],"summary":"Get Chart Part Endpoint","description":"Return a single astrology chart part (rasi, navamsa, d10, chandra, shadbala) for the given profile.\n- Validates ownership (profile belongs to the authenticated user)\n- Fetches raw chart part persisted in astrology_chart_parts","operationId":"get_chart_part_endpoint_api_v1_astrology_profiles__profile_id__charts__chart_type__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}},{"name":"chart_type","in":"path","required":true,"schema":{"enum":["rasi","navamsa","d10","chandra","shadbala"],"type":"string","title":"Chart Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhanced/auth/persistent-login":{"post":{"tags":["Enhanced Astrology"],"summary":"Persistent Login","description":"Check for persistent session on app startup","operationId":"persistent_login_api_v1_enhanced_auth_persistent_login_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/enhanced/auth/logout":{"post":{"tags":["Enhanced Astrology"],"summary":"Logout","description":"Logout user and invalidate all sessions","operationId":"logout_api_v1_enhanced_auth_logout_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_token","in":"query","required":true,"schema":{"type":"string","description":"Persistent session token","title":"Session Token"},"description":"Persistent session token"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhanced/auth/sessions":{"get":{"tags":["Enhanced Astrology"],"summary":"Get User Sessions","description":"Get all active sessions for the current user","operationId":"get_user_sessions_api_v1_enhanced_auth_sessions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/enhanced/profiles/{profile_id}/generate-chart":{"post":{"tags":["Enhanced Astrology"],"summary":"Generate Profile Chart","description":"Generate complete astrology chart with predictions for a profile","operationId":"generate_profile_chart_api_v1_enhanced_profiles__profile_id__generate_chart_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhanced/profiles/{profile_id}/complete":{"get":{"tags":["Enhanced Astrology"],"summary":"Get Complete Profile","description":"Get complete profile with chart, predictions, and marriage matches","operationId":"get_complete_profile_api_v1_enhanced_profiles__profile_id__complete_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhanced/profiles/{profile_id}/predictions":{"get":{"tags":["Enhanced Astrology"],"summary":"Get Profile Predictions","description":"Get predictions for a specific profile","operationId":"get_profile_predictions_api_v1_enhanced_profiles__profile_id__predictions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}},{"name":"prediction_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/PredictionType"},{"type":"null"}],"title":"Prediction Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhanced/profiles/{profile_id}/predictions/{prediction_type}":{"post":{"tags":["Enhanced Astrology"],"summary":"Generate Specific Prediction","description":"Generate a specific type of prediction for a profile","operationId":"generate_specific_prediction_api_v1_enhanced_profiles__profile_id__predictions__prediction_type__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}},{"name":"prediction_type","in":"path","required":true,"schema":{"$ref":"#/components/schemas/PredictionType"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhanced/marriage-matching/generate":{"post":{"tags":["Enhanced Astrology"],"summary":"Generate Marriage Match","description":"Generate marriage compatibility analysis between groom and bride.\n\nBody JSON (example):\n{\n  \"groom\": {\n    \"firstName\": \"Arjun\",\n    \"lastName\": \"Mehta\",\n    \"birthDateTime\": \"1992-07-15T14:35:00Z\",\n    \"birthPlace\": \"Mumbai, IN\",\n    \"timezone\": \"Asia/Kolkata\"\n  },\n  \"bride\": {\n    \"firstName\": \"Priya\",\n    \"lastName\": \"Sharma\",\n    \"birthDateTime\": \"1994-03-09T08:20:00Z\",\n    \"birthPlace\": \"Delhi, IN\",\n    \"timezone\": \"Asia/Kolkata\"\n  }\n}","operationId":"generate_marriage_match_api_v1_enhanced_marriage_matching_generate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"Content-Type","in":"header","required":true,"schema":{"type":"string","title":"Content-Type"}},{"name":"Accept","in":"header","required":true,"schema":{"type":"string","title":"Accept"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarriageMatchingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhanced/marriage-matching/{match_id}":{"get":{"tags":["Enhanced Astrology"],"summary":"Get Marriage Match","description":"Get marriage compatibility analysis by ID","operationId":"get_marriage_match_api_v1_enhanced_marriage_matching__match_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"match_id","in":"path","required":true,"schema":{"type":"string","title":"Match Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhanced/profiles/{profile_id}/marriage-matches":{"get":{"tags":["Enhanced Astrology"],"summary":"Get Profile Marriage Matches","description":"Get all marriage matches for a profile","operationId":"get_profile_marriage_matches_api_v1_enhanced_profiles__profile_id__marriage_matches_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhanced/dashboard":{"get":{"tags":["Enhanced Astrology"],"summary":"Get Dashboard Data","description":"Get comprehensive dashboard data for the user","operationId":"get_dashboard_data_api_v1_enhanced_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/enhanced/profiles/{profile_id}/refresh-predictions":{"post":{"tags":["Enhanced Astrology"],"summary":"Refresh Profile Predictions","description":"Refresh/regenerate predictions for a profile","operationId":"refresh_profile_predictions_api_v1_enhanced_profiles__profile_id__refresh_predictions_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"string","title":"Profile Id"}},{"name":"prediction_types","in":"query","required":false,"schema":{"type":"array","items":{"$ref":"#/components/schemas/PredictionType"},"default":["daily"],"title":"Prediction Types"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics":{"get":{"summary":"Metrics","operationId":"metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AstrologyChartResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"profile_id":{"type":"string","title":"Profile Id"},"houses":{"additionalProperties":{"$ref":"#/components/schemas/HouseData"},"type":"object","title":"Houses"},"career":{"additionalProperties":true,"type":"object","title":"Career"},"finance":{"additionalProperties":true,"type":"object","title":"Finance"},"health":{"additionalProperties":true,"type":"object","title":"Health"},"travel":{"additionalProperties":true,"type":"object","title":"Travel"},"vimshottari_dasha":{"items":{"$ref":"#/components/schemas/DashaPeriod"},"type":"array","title":"Vimshottari Dasha"},"birth_details":{"additionalProperties":true,"type":"object","title":"Birth Details"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","user_id","profile_id","houses","career","finance","health","travel","vimshottari_dasha","birth_details","created_at","updated_at"],"title":"AstrologyChartResponse","description":"Response model for astrology chart data"},"ChartDataResponse":{"properties":{"chart":{"$ref":"#/components/schemas/AstrologyChartResponse"},"status":{"type":"string","title":"Status"}},"type":"object","required":["chart","status"],"title":"ChartDataResponse","description":"Response model for chart data"},"DashaPeriod":{"properties":{"planet":{"type":"string","title":"Planet"},"start_date":{"type":"string","title":"Start Date"},"end_date":{"type":"string","title":"End Date"},"start_age":{"type":"number","title":"Start Age"},"end_age":{"type":"number","title":"End Age"}},"type":"object","required":["planet","start_date","end_date","start_age","end_age"],"title":"DashaPeriod","description":"Model for Vimshottari Dasha period"},"Gender":{"type":"string","enum":["male","female","other"],"title":"Gender"},"GenerateChartRequest":{"properties":{"profile_id":{"type":"string","title":"Profile Id"}},"type":"object","required":["profile_id"],"title":"GenerateChartRequest","description":"Request model for generating astrology chart"},"GenerateChartResponse":{"properties":{"message":{"type":"string","title":"Message"},"chart_id":{"type":"string","title":"Chart Id"},"status":{"type":"string","title":"Status"}},"type":"object","required":["message","chart_id","status"],"title":"GenerateChartResponse","description":"Response model for chart generation"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HouseData":{"properties":{"planets":{"items":{"$ref":"#/components/schemas/PlanetData"},"type":"array","title":"Planets"}},"type":"object","title":"HouseData","description":"Model for house containing planets"},"MarriageMatchingRequest":{"properties":{"groom":{"$ref":"#/components/schemas/PersonData"},"bride":{"$ref":"#/components/schemas/PersonData"}},"type":"object","required":["groom","bride"],"title":"MarriageMatchingRequest","description":"Strict marriage matching request with groom and bride objects"},"PersonData":{"properties":{"firstName":{"type":"string","title":"Firstname"},"lastName":{"type":"string","title":"Lastname"},"birthDateTime":{"type":"string","title":"Birthdatetime"},"birthPlace":{"type":"string","title":"Birthplace"},"timezone":{"type":"string","title":"Timezone"}},"type":"object","required":["firstName","lastName","birthDateTime","birthPlace","timezone"],"title":"PersonData","description":"Individual person data for marriage matching"},"PersonProfile":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"name":{"type":"string","title":"Name"},"birth_date":{"type":"string","format":"date","title":"Birth Date"},"birth_time":{"type":"string","format":"time","title":"Birth Time"},"birth_place":{"type":"string","title":"Birth Place"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"timezone":{"type":"string","title":"Timezone","default":"Asia/Kolkata"},"gender":{"$ref":"#/components/schemas/Gender"},"relationship":{"type":"string","title":"Relationship","default":"self"},"zodiac_sign":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Zodiac Sign"},"moon_sign":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Moon Sign"},"nakshatra":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nakshatra"},"ascendant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ascendant"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["id","user_id","name","birth_date","birth_time","birth_place","gender","created_at"],"title":"PersonProfile","description":"Person profile model for astrology calculations"},"PlanetData":{"properties":{"name":{"type":"string","title":"Name"},"sign":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sign"},"degree":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Degree"},"strength":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Strength"},"house_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"House Number"},"current_sign":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Sign"},"fullDegree":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Fulldegree"}},"type":"object","required":["name"],"title":"PlanetData","description":"Model for individual planet data"},"PredictionType":{"type":"string","enum":["daily","weekly","monthly","yearly","career","health","relationship","finance"],"title":"PredictionType"},"ProfileCreateRequest":{"properties":{"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"name":{"type":"string","title":"Name"},"birthDate":{"type":"string","title":"Birthdate"},"birthTime":{"type":"string","title":"Birthtime"},"birthPlace":{"type":"string","title":"Birthplace"},"gender":{"type":"string","title":"Gender"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["name","birthDate","birthTime","birthPlace","gender","created_at"],"title":"ProfileCreateRequest","description":"Model for profile creation requests matching frontend structure"},"ProfileResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"name":{"type":"string","title":"Name"},"birth_date":{"type":"string","format":"date","title":"Birth Date"},"birth_time":{"type":"string","format":"time","title":"Birth Time"},"birth_place":{"type":"string","title":"Birth Place"},"gender":{"$ref":"#/components/schemas/Gender"},"zodiac_sign":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Zodiac Sign"},"nakshatra":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nakshatra"},"moon_sign":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Moon Sign"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","user_id","name","birth_date","birth_time","birth_place","gender","created_at","updated_at"],"title":"ProfileResponse","description":"Response model for profile data"},"UserDetailsResponse":{"properties":{"user_id":{"type":"string","title":"User Id"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"subscription_type":{"type":"string","title":"Subscription Type"},"profile_complete":{"type":"boolean","title":"Profile Complete"},"language":{"type":"string","title":"Language"},"timezone":{"type":"string","title":"Timezone"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"last_login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Login"},"profiles":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Profiles"},"recent_predictions":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Recent Predictions"},"summary":{"additionalProperties":true,"type":"object","title":"Summary"}},"type":"object","required":["user_id","subscription_type","profile_complete","language","timezone","profiles","recent_predictions","summary"],"title":"UserDetailsResponse","description":"Comprehensive response model for user details with profile data"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"app__api__v1__unified_auth__AuthInitiateRequest":{"properties":{"identifier":{"type":"string","title":"Identifier"}},"type":"object","required":["identifier"],"title":"AuthInitiateRequest"},"app__api__v1__unified_auth__AuthInitiateResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"auth_type":{"type":"string","title":"Auth Type"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"expires_in":{"type":"integer","title":"Expires In"},"next_step":{"type":"string","title":"Next Step"}},"type":"object","required":["session_id","auth_type","status","message","expires_in","next_step"],"title":"AuthInitiateResponse"},"app__api__v1__unified_auth__AuthVerifyResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"access_token":{"type":"string","title":"Access Token"},"user_id":{"type":"string","title":"User Id"},"status":{"type":"string","title":"Status"},"is_new_user":{"type":"boolean","title":"Is New User"},"next_step":{"type":"string","title":"Next Step"},"user_data":{"additionalProperties":true,"type":"object","title":"User Data"}},"type":"object","required":["session_id","access_token","user_id","status","is_new_user","next_step","user_data"],"title":"AuthVerifyResponse"},"app__api__v1__unified_auth__GoogleOAuthRequest":{"properties":{"id_token":{"type":"string","title":"Id Token"}},"type":"object","required":["id_token"],"title":"GoogleOAuthRequest"},"app__api__v1__unified_auth__GoogleOAuthResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"user_id":{"type":"string","title":"User Id"},"status":{"type":"string","title":"Status"},"is_new_user":{"type":"boolean","title":"Is New User"},"next_step":{"type":"string","title":"Next Step"},"user_data":{"additionalProperties":true,"type":"object","title":"User Data"}},"type":"object","required":["access_token","user_id","status","is_new_user","next_step","user_data"],"title":"GoogleOAuthResponse"},"app__api__v1__unified_auth__LogoutRequest":{"properties":{"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","title":"LogoutRequest"},"app__api__v1__unified_auth__LogoutResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"LogoutResponse"},"app__api__v1__unified_auth__OTPVerifyRequest":{"properties":{"session_id":{"type":"string","title":"Session Id"},"otp_code":{"type":"string","title":"Otp Code"}},"type":"object","required":["session_id","otp_code"],"title":"OTPVerifyRequest"},"app__api__v1__user_management__AuthInitiateRequest":{"properties":{"identifier":{"type":"string","title":"Identifier"}},"type":"object","required":["identifier"],"title":"AuthInitiateRequest","description":"Request model for initiating authentication"},"app__api__v1__user_management__AuthInitiateResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"auth_type":{"type":"string","title":"Auth Type"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"expires_in":{"type":"integer","title":"Expires In"},"next_step":{"type":"string","title":"Next Step"}},"type":"object","required":["session_id","auth_type","status","message","expires_in","next_step"],"title":"AuthInitiateResponse","description":"Response model for authentication initiation"},"app__api__v1__user_management__AuthVerifyResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"access_token":{"type":"string","title":"Access Token"},"user_id":{"type":"string","title":"User Id"},"status":{"type":"string","title":"Status"},"is_new_user":{"type":"boolean","title":"Is New User"},"next_step":{"type":"string","title":"Next Step"},"user_data":{"additionalProperties":true,"type":"object","title":"User Data"}},"type":"object","required":["session_id","access_token","user_id","status","is_new_user","next_step","user_data"],"title":"AuthVerifyResponse","description":"Response model for authentication verification"},"app__api__v1__user_management__GoogleOAuthRequest":{"properties":{"id_token":{"type":"string","title":"Id Token"}},"type":"object","required":["id_token"],"title":"GoogleOAuthRequest","description":"Request model for Google OAuth login"},"app__api__v1__user_management__GoogleOAuthResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"user_id":{"type":"string","title":"User Id"},"status":{"type":"string","title":"Status"},"is_new_user":{"type":"boolean","title":"Is New User"},"next_step":{"type":"string","title":"Next Step"},"user_data":{"additionalProperties":true,"type":"object","title":"User Data"}},"type":"object","required":["access_token","user_id","status","is_new_user","next_step","user_data"],"title":"GoogleOAuthResponse","description":"Response model for Google OAuth"},"app__api__v1__user_management__LogoutRequest":{"properties":{"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","title":"LogoutRequest","description":"Request model for logout"},"app__api__v1__user_management__LogoutResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"LogoutResponse","description":"Response model for logout"},"app__api__v1__user_management__OTPVerifyRequest":{"properties":{"session_id":{"type":"string","title":"Session Id"},"otp_code":{"type":"string","title":"Otp Code"}},"type":"object","required":["session_id","otp_code"],"title":"OTPVerifyRequest","description":"Request model for OTP verification"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}